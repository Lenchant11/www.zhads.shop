<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Online Work Opportunities - SideIncome | Earn Money From Home Philippines</title>
  <meta name="description" content="Online jobs in the Philippines! Earn daily income with flexible working hours. No experience needed. Apply now, get response via WhatsApp within 1 hour." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Preload critical resources -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" as="style">
  <link rel="preload" href="https://flagcdn.com/w20/ph.png" as="image">
  <link rel="stylesheet" href="style.css">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17420620875"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17420620875');
  </script>

  <!-- Event snippet for conversion page -->
  <script>
  function gtag_report_conversion(url) {
    var callback = function () {
      if (typeof(url) != 'undefined') {
        window.location = url;
      }
    };
    gtag('event', 'conversion', {
        'send_to': 'AW-17420620875/jX15CM2_jp8bEMuo5vJA',
        'event_callback': callback
    });
    return false;
  }
  </script>
</head>
<body>
  <!-- Top Nav -->
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="#top" aria-label="Home">SideIncome</a>
      <nav class="nav-links">
        <a href="#roles" class="nav-link">Job Types</a>
        <a href="#benefits" class="nav-link">Benefits</a>
        <a href="#faq" class="nav-link">FAQ</a>
        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Menu">☰</button>
        <a href="#" class="btn btn-orange" id="openFormBtn">Apply Now</a>
      </nav>
      
      <!-- Mobile Menu -->
      <div class="mobile-menu" id="mobileMenu">
        <a href="#roles">Job Types</a>
        <a href="#benefits">Benefits</a>
        <a href="#faq">FAQ</a>
      </div>
    </div>
  </header>

  <!-- Hero + Form -->
  <section id="top" class="hero">
    <div class="container hero-grid">
      <div class="hero-copy fade-in">
        <span class="urgency-badge">⏰ LAST 15 SLOTS AVAILABLE!</span>
        <h1>Earn ₱1,500-₱5,000 Daily From Home in the Philippines</h1>
        <p class="subtitle">
          🇵🇭 Online jobs for Filipinos! Work flexible hours, get paid daily. No experience needed! Madali lang - start earning today!
        </p>

        <!-- credibility logos -->
        <div class="logos" aria-label="Brands">
          <span class="logo" aria-label="Facebook" title="Facebook">Facebook</span>
          <span class="logo" aria-label="TikTok" title="TikTok">TikTok</span>
          <span class="logo" aria-label="Shopee" title="Shopee">Shopee</span>
          <span class="logo" aria-label="Lazada" title="Lazada">Lazada</span>
          <span class="logo" aria-label="Grab" title="Grab">Grab</span>
        </div>

        <ul class="hero-points">
          <li>⏰ Flexible hours - Work on your own schedule</li>
          <li>💳 Daily payments - Get paid instantly for completed tasks</li>
          <li>📱 Phone only - No computer needed for most tasks</li>
          <li>🛡️ 100% safe - No registration or application fees</li>
          <li>🇵🇭 Filipino support - 24/7 WhatsApp assistance</li>
          <li>🎯 Simple tasks - Watch videos, data entry, content review</li>
        </ul>
        <div style="text-align: center;">
          <a class="btn btn-orange btn-lg pulse" href="#" id="heroCtaBtn" style="margin-top: 20px;">
          🚀 Start Earning Today
          </a>
        </div>
      </div>
    </div>

    <div class="hero-bg" role="img" aria-label="Remote work scene: a woman using tablet at home"></div>
  </section>

  <!-- Success Modal -->
  <div class="modal" id="successModal">
    <div class="modal-content" aria-labelledby="modalTitle" role="dialog" aria-modal="true">
      <button class="modal-close" id="modalCloseBtn" aria-label="Close">&times;</button>
      <h3 class="modal-title" id="modalTitle">🎉 Success!</h3>
      <p class="modal-message">Your application was submitted successfully. Click OK to connect with our customer support via WhatsApp immediately.</p>
      <button class="modal-btn" id="modalOkBtn">OK</button>
    </div>
  </div>

  <!-- Exit Intent Modal -->
  <div class="modal" id="exitIntentModal">
    <div class="modal-content" aria-labelledby="exitModalTitle" role="dialog" aria-modal="true">
      <button class="modal-close" id="exitModalCloseBtn" aria-label="Close">&times;</button>
      <h3 class="modal-title" id="exitModalTitle">⏳ Wait!</h3>
      <p class="modal-message">Are you sure you want to leave this earning opportunity? This special offer is only available now and slots are limited.</p>
      <div class="modal-buttons">
        <button class="modal-btn" id="continueFormBtn">Yes, Continue with Form</button>
        <button class="modal-btn secondary" id="whatsappFirstBtn">Contact via WhatsApp First</button>
        <button class="modal-btn outline" id="exitWebsiteBtn">No, Leave Website</button>
      </div>
    </div>
  </div>

  <!-- Form Modal -->
  <div class="modal" id="formModal">
    <div class="modal-content" style="max-width: 500px;" aria-labelledby="modalFormTitle" role="dialog" aria-modal="true">
      <button class="modal-close" id="formModalCloseBtn" aria-label="Close">&times;</button>
      <h2 class="form-title" id="modalFormTitle">🚀 Apply Now</h2>
      <p class="form-note"><strong>Limited slots!</strong> Special bonus for the first 50 applicants. We'll respond via WhatsApp immediately.</p>
      
      <div class="progress-bar">
        <div class="progress-step active"></div>
        <div class="progress-step"></div>
        <div class="progress-step"></div>
      </div>

      <form id="modalApplicationForm" novalidate>
        <!-- Honeypot field -->
        <div class="hp-field">
          <label for="modal-hp-email">Email</label>
          <input type="text" id="modal-hp-email" name="hp-email" tabindex="-1" autocomplete="off">
        </div>

        <div class="field">
          <label for="modal-name">Full Name<span class="req">*</span></label>
          <input id="modal-name" name="name" type="text" placeholder="Your full name" required autocomplete="name" />
          <div class="error-text" id="modal-name-error">Please enter a valid full name</div>
        </div>

        <div class="field">
          <label for="modal-phone">WhatsApp Phone<span class="req">*</span></label>
          <div class="phone-input-group">
            <div class="country-code">
              <img src="https://flagcdn.com/w20/ph.png" alt="Philippines flag" width="20" height="14" style="display:inline-block;vertical-align:middle;margin-right:8px;border-radius:2px;">
              +63
            </div>
            <input id="modal-phone" name="phone" type="tel" class="phone-input" placeholder="9xx xxx xxxx" required inputmode="tel" maxlength="10" />
          </div>
          <div class="error-text" id="modal-phone-error">Please enter your 10-digit phone number</div>
        </div>

        <div class="field">
          <label for="modal-age">Age<span class="req">*</span></label>
          <input id="modal-age" name="age" type="text" placeholder="e.g. 24" required inputmode="numeric" maxlength="2" />
          <div class="error-text" id="modal-age-error">Please enter age between 18-65</div>
        </div>

        <div class="field check">
          <input id="modal-consent" name="consent" type="checkbox" required style="width: auto; margin-top: 4px;" checked />
          <label for="modal-consent">I accept the <a href="#privacy">Privacy Policy</a> and <a href="#terms">Terms of Use</a>.</label>
        </div>

        <button type="submit" class="btn btn-orange btn-block pulse" id="modalSubmitBtn">
          <span class="btn-text">🚀 Apply Now & Start Earning</span>
          <span class="btn-loading" style="display:none;">Submitting...</span>
        </button>
        
        <div class="security-badge">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" stroke="#19c37d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M9 12L11 14L15 10" stroke="#19c37d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Your information is secure and never shared with third parties</span>
        </div>
        
        <p id="modalFormStatus" class="form-status" role="status" aria-live="polite"></p>
      </form>
      
    </div>
  </div>

  <!-- Floating CTA Button -->
  <div class="floating-cta" id="floatingCta">
    <div class="floating-cta-btn pulse" id="floatingCtaBtn">
      Apply Now
    </div>
  </div>

  <!-- Hiring (Part-time & Full-time) -->
  <section id="roles" class="section">
    <div class="container">
      <div class="section-header fade-in">
        <h2>💰 Choose Your Flexible Work Style</h2>
        <p class="muted">Earnings shown are typical ranges reported by workers. <strong>Your results may vary based on personal performance.</strong></p>
      </div>

      <div class="cards two-col">
        <article class="card fade-in">
          <div class="card-media pt"></div>
          <div class="card-body">
            <div class="earnings-badge">₱500–₱3,000 / day</div>
            <h3>Part-Time Work</h3>
            <ul class="list">
              <li><strong>⏰ Flexible hours:</strong> 1–3 hours daily</li>
              <li><strong>💳 Payment:</strong> Daily after successful task completion</li>
              <li><strong>📱 Tools:</strong> Smartphone only</li>
              <li><strong>🎯 Skills:</strong> Basic digital literacy sufficient</li>
              <li><strong>🏠 Work style:</strong> Flexible, remote</li>
              <li><strong>📋 Tasks:</strong> Watch videos, simple data entry, content review</li>
            </ul>
            <a href="#" class="btn btn-orange open-form-btn" style="margin-top: 14px;">Apply for Part-Time</a>
          </div>
        </article>

        <article class="card fade-in delay-1">
          <div class="card-media ft"></div>
          <div class="card-body">
            <div class="earnings-badge">₱5,000+ / day</div>
            <h3>Full-Time Work</h3>
            <ul class="list">
              <li><strong>⏰ Flexible hours:</strong> 3–6 hours daily</li>
              <li><strong>💳 Payment:</strong> Daily after successful task completion</li>
              <li><strong>📱 Tools:</strong> Smartphone (PC optional)</li>
              <li><strong>🎯 Skills:</strong> Strong digital literacy preferred</li>
              <li><strong>🏠 Work style:</strong> Flexible, remote</li>
              <li><strong>📋 Tasks:</strong> Customer support, data processing, quality review</li>
            </ul>
            <a href="#" class="btn btn-orange open-form-btn" style="margin-top: 14px;">Apply for Full-Time</a>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Flexible Work Bonus -->
  <section class="section alt">
    <div class="container">
      <div class="section-header fade-in">
        <h2>🎁 Earn Bonus Rewards for Consistency</h2>
        <p class="muted">Stay active and unlock extra income on top of your regular task payments.</p>
      </div>
      
      <div class="cards three-col">
        <div class="card bonus fade-in">
          <div class="bonus-icon" aria-hidden="true">🎁</div>
          <h3>5 days</h3>
          <p>Unlock a small milestone bonus by completing tasks for 5 active days this month.</p>
        </div>
        <div class="card bonus fade-in delay-1">
          <div class="bonus-icon" aria-hidden="true">🏆</div>
          <h3>15 days</h3>
          <p>Qualify for an increased bonus by maintaining steady activity for 15 days.</p>
        </div>
        <div class="card bonus fade-in delay-2">
          <div class="bonus-icon" aria-hidden="true">⭐</div>
          <h3>30 days</h3>
          <p>Receive our highest monthly loyalty bonus by staying active for 30 days.</p>
        </div>
      </div>
      <p class="muted" style="text-align: center; margin-top: 20px;">Bonuses depend on task availability and quality assessment. <strong>Earnings may vary based on personal performance.</strong></p>
    </div>
  </section>

  <!-- Job Requirements -->
  <section class="section" aria-labelledby="req-title">
    <div class="container">
      <div class="section-header fade-in">
        <h2 id="req-title">🎯 Everything You Need to Get Started</h2>
        <p class="muted">Simple requirements to start your remote work journey with us.</p>
      </div>
      
      <div class="requirements">
        <div class="req-item fade-in">
          <div class="req-icon">📱</div>
          <div>
            <h4>Smartphone</h4>
            <p>Android or iOS, with stable internet.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-1">
          <div class="req-icon">💸</div>
          <div>
            <h4>Earn with tasks</h4>
            <p>Follow task steps and submit proofs.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-1">
          <div class="req-icon">🎯</div>
          <div>
            <h4>Age 18-65</h4>
            <p>We verify age for eligibility and compliance.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-2">
          <div class="req-icon">🤝</div>
          <div>
            <h4>All genders</h4>
            <p>Inclusive opportunities with fair rules.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-2">
          <div class="req-icon">⚡</div>
          <div>
            <h4>Digital basics</h4>
            <p>Read instructions and simple data entry.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Work From Home Benefits -->
  <section id="benefits" class="section alt">
    <div class="container">
      <div class="benefits-grid">
        <div class="benefits-media fade-in"></div>
        <div class="benefits-copy fade-in delay-1">
          <h2>🏠 Truly work from home (or anywhere you want)</h2>
          <ul class="stats">
            <li><strong>50,000+</strong> applicants</li>
            <li><strong>100,000+</strong> tasks offered</li>
            <li><strong>500+</strong> support staff</li>
            <li><strong>95%</strong> satisfaction</li>
          </ul>
          <p class="muted">Figures are internal totals updated periodically and provided for transparency, not as guarantees. <strong>Earnings may vary based on personal performance.</strong></p>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="section">
    <div class="container">
      <div class="section-header fade-in">
        <h2>🌟 Reviews from Filipino Workers</h2>
        <p class="muted">Real people, real experiences with our platform.</p>
      </div>
      
      <div class="cards three-col">
        <blockquote class="testimonial fade-in">
          <div class="avatar">M</div>
          <p>"Clear tasks and quick responses. I received my first payment on the same day. Filipino support was very helpful!"</p>
          <footer>— Maria, Manila</footer>
        </blockquote>
        <blockquote class="testimonial fade-in delay-1">
          <div class="avatar">J</div>
          <p>"I do this after my main job. The flexibility makes earning extra income perfect for students like me!"</p>
          <footer>— Juan, Cebu</footer>
        </blockquote>
        <blockquote class="testimonial fade-in delay-2">
          <div class="avatar">A</div>
          <p>"Simple steps with fair expectations. No application fees or hidden costs. Highly recommended talaga!"</p>
          <footer>— Ana, Davao</footer>
        </blockquote>
      </div>
    </div>
  </section>

  <!-- Limited Opportunity -->
  <section class="section cta">
    <div class="container cta-inner fade-in">
      <div>
        <h2>⏰ Limited Slots Available - Apply Now</h2>
        <p class="muted">New tasks are added daily, but positions fill up quickly. Submit your application now to secure your spot.</p>
      </div>
      <a class="btn btn-orange btn-lg pulse open-form-btn" href="#">🚀 Apply Now</a>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="section alt">
    <div class="container">
      <div class="section-header fade-in">
        <h2>❓ Frequently Asked Questions</h2>
        <p class="muted">Everything you need to know before getting started.</p>
      </div>
      
      <details class="faq fade-in">
        <summary>Is there any fee to apply?</summary>
        <div>No. We never charge any application or registration fees. Our platform is completely free to join and use.</div>
      </details>
      <details class="faq fade-in">
        <summary>How do payments work?</summary>
        <div>Payments are processed after tasks pass quality checks. Timing may vary by method and region, but most workers receive payment within 24 hours after task completion. <strong>Earning amount depends on your personal performance.</strong></div>
      </details>
      <details class="faq fade-in">
        <summary>What equipment do I need?</summary>
        <div>A smartphone and internet connection are sufficient for most tasks. Some positions may prefer a computer, but it's not required for the majority of tasks.</div>
      </details>
      <details class="faq fade-in">
        <summary>How will you contact me?</summary>
        <div>We primarily communicate via WhatsApp. After applying, you'll receive step-by-step instructions.</div>
      </details>
      
      <div class="disclaimer fade-in">
        <strong>⚠️ Important Note:</strong> The earning amounts mentioned on this site are examples and not guaranteed. Your actual earnings will vary based on personal effort, time commitment, and performance in completing tasks. Regular work and adherence to instructions are required for successful results.
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-grid">
      <div>
        <a class="brand" href="#top">RemotePinas</a>
        <p class="muted small">Transparent opportunities. No income guarantees. No application fees.</p>
      </div>
      <nav class="footer-links">
        <a id="privacy" href="privacy.html" rel="nofollow">Privacy Policy</a>
        <a id="terms" href="userterms.html" rel="nofollow">Terms of Use</a>
      </nav>
    </div>
    <div class="container">
      <p class="muted small">© 2023 RemotePinas. All rights reserved. Earnings shown are examples only and not guarantees. Your actual earnings depend on your skills, time, and task availability. Earnings may vary based on personal performance.</p>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // WhatsApp account numbers
      const whatsappAccounts = [
        "1234567890",
        "0987654321"
      ];
      
      // Variables
      const randomAccount = whatsappAccounts[Math.floor(Math.random() * whatsappAccounts.length)];
      const assignedWhatsAppLink = `https://wa.me/${randomAccount}?text=${encodeURIComponent("Hello, I'm interested in joining the online high-income part-time job!")}`;
      let formSubmitted = false;
      let exitIntentShown = false;
      
      // DOM Elements
      const modalForm = document.getElementById('modalApplicationForm');
      const modalFormStatus = document.getElementById('modalFormStatus');
      const successModal = document.getElementById('successModal');
      const formModal = document.getElementById('formModal');
      const exitIntentModal = document.getElementById('exitIntentModal');
      const modalOkBtn = document.getElementById('modalOkBtn');
      const modalCloseBtn = document.getElementById('modalCloseBtn');
      const formModalCloseBtn = document.getElementById('formModalCloseBtn');
      const exitModalCloseBtn = document.getElementById('exitModalCloseBtn');
      const openFormBtn = document.getElementById('openFormBtn');
      const openFormBtns = document.querySelectorAll('.open-form-btn');
      const heroCtaBtn = document.getElementById('heroCtaBtn');
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      const continueFormBtn = document.getElementById('continueFormBtn');
      const whatsappFirstBtn = document.getElementById('whatsappFirstBtn');
      const exitWebsiteBtn = document.getElementById('exitWebsiteBtn');
      const modalSubmitBtn = document.getElementById('modalSubmitBtn');
      const directWhatsAppBtn = document.getElementById('directWhatsAppBtn');
      const floatingCtaBtn = document.getElementById('floatingCtaBtn');
      
      // Mobile menu toggle
      mobileMenuBtn.addEventListener('click', function() {
        mobileMenu.classList.toggle('active');
      });
      
      // Close mobile menu when clicking outside
      document.addEventListener('click', function(e) {
        if (!mobileMenu.contains(e.target) && e.target !== mobileMenuBtn) {
          mobileMenu.classList.remove('active');
        }
      });
      
      // WhatsApp link generation
      function generateWhatsAppLink(phoneNumber) {
        const message = encodeURIComponent("Hello, I'm interested in joining the online high-income part-time job!");
        return `https://wa.me/${phoneNumber}?text=${message}`;
      }
      
      // Open form modal
      function openFormModal() {
        formModal.classList.add('active');
      }
      
      // Close form modal
      function closeFormModal() {
        formModal.classList.remove('active');
      }
      
      // Open success modal
      function openSuccessModal() {
        successModal.classList.add('active');
      }
      
      // Close success modal
      function closeSuccessModal() {
        successModal.classList.remove('active');
      }
      
      // Show exit intent popup
      function showExitIntentPopup() {
        if (exitIntentShown || formSubmitted) return;
        if (localStorage.getItem('exitIntentShown') === 'true') return;
        
        exitIntentShown = true;
        localStorage.setItem('exitIntentShown', 'true');
        exitIntentModal.classList.add('active');
      }
      
      // Close exit intent modal
      function closeExitIntentModal() {
        exitIntentModal.classList.remove('active');
      }
      
      // Phone number validation
      function validatePhoneNumber(phone) {
        const cleaned = phone.replace(/\D/g, '');
        return cleaned.length === 10 && cleaned.startsWith('9');
      }
      
      // Age validation
      function validateAge(age) {
        const ageNum = parseInt(age, 10);
        return !isNaN(ageNum) && ageNum >= 18 && ageNum <= 65;
      }
      
      // Name validation
      function validateName(name) {
        return name.trim().length >= 2;
      }
      
      // Honeypot check
      function checkHoneypot(formElement) {
        const honeypot = formElement.querySelector('input[name="hp-email"]');
        return honeypot.value === '';
      }
      
      // Show error
      function showError(input, errorElement, message) {
        input.classList.add('error');
        errorElement.textContent = message;
        errorElement.classList.add('show');
      }
      
      // Clear error
      function clearError(input, errorElement) {
        input.classList.remove('error');
        errorElement.classList.remove('show');
      }
      
      // Form validation and submission handling
      function handleFormSubmit(e, formElement, statusElement, submitButton) {
        e.preventDefault();
        
        // Honeypot check
        if (!checkHoneypot(formElement)) {
          statusElement.textContent = 'Please resubmit the form.';
          statusElement.className = 'form-status error';
          return;
        }
        
        // Clear previous error states
        const inputs = formElement.querySelectorAll('input');
        const errorElements = formElement.querySelectorAll('.error-text');
        inputs.forEach(input => input.classList.remove('error'));
        errorElements.forEach(el => el.classList.remove('show'));
        
        let isValid = true;
        
        // Name validation
        const nameInput = formElement.querySelector('input[name="name"]');
        const nameError = formElement.querySelector('#modal-name-error');
        if (!validateName(nameInput.value)) {
          isValid = false;
          showError(nameInput, nameError, 'Please enter a valid full name (at least 2 characters)');
        }
        
        // Phone validation
        const phoneInput = formElement.querySelector('input[name="phone"]');
        const phoneError = formElement.querySelector('#modal-phone-error');
        if (!validatePhoneNumber(phoneInput.value)) {
          isValid = false;
          showError(phoneInput, phoneError, 'Please enter a valid 10-digit phone number (9xx xxx xxxx)');
        }
        
        // Age validation
        const ageInput = formElement.querySelector('input[name="age"]');
        const ageError = formElement.querySelector('#modal-age-error');
        if (!validateAge(ageInput.value)) {
          isValid = false;
          showError(ageInput, ageError, 'Please enter an age between 18-65');
        }
        
        // Consent validation
        const consentInput = formElement.querySelector('input[name="consent"]');
        if (!consentInput.checked) {
          isValid = false;
          formElement.querySelector('.field.check label').style.color = '#ff8b8b';
        } else {
          formElement.querySelector('.field.check label').style.color = '';
        }
        
        if (!isValid) {
          statusElement.textContent = 'Please fill all fields correctly.';
          statusElement.className = 'form-status error';
          return;
        }
        
        // Loading state
        const btnText = submitButton.querySelector('.btn-text');
        const btnLoading = submitButton.querySelector('.btn-loading');
        btnText.style.display = 'none';
        btnLoading.style.display = 'inline';
        submitButton.disabled = true;
        
        // Form validation successful, show success message
        setTimeout(() => {
          formSubmitted = true;
          openSuccessModal();
          
          // If it's modal form, close it
          if (formElement === modalForm) {
            closeFormModal();
          }
          
          // Send GA event (async)
          try {
            gtag_report_conversion(assignedWhatsAppLink);
          } catch (error) {
            console.error('GA event failed to send:', error);
            // Redirect to WhatsApp even if GA fails
            window.location.href = assignedWhatsAppLink;
          }
          
          // Reset loading state
          btnText.style.display = 'inline';
          btnLoading.style.display = 'none';
          submitButton.disabled = false;
        }, 1000);
      }
      
      // Real-time validation
      function setupRealTimeValidation() {
        // Name validation
        document.querySelectorAll('input[name="name"]').forEach(input => {
          input.addEventListener('input', function() {
            const errorElement = document.getElementById('modal-name-error');
            clearError(this, errorElement);
          });
        });
        
        // Phone validation
        document.querySelectorAll('input[name="phone"]').forEach(input => {
          input.addEventListener('input', function() {
            // Only allow numbers
            this.value = this.value.replace(/\D/g, '');
            const errorElement = document.getElementById('modal-phone-error');
            clearError(this, errorElement);
          });
        });
        
        // Age validation
        document.querySelectorAll('input[name="age"]').forEach(input => {
          input.addEventListener('input', function() {
            // Only allow numbers
            this.value = this.value.replace(/\D/g, '');
            const errorElement = document.getElementById('modal-age-error');
            clearError(this, errorElement);
          });
        });
      }
      
      // Exit intent detection
      function setupExitIntentDetection() {
        // Mouse leaving top of window
        document.addEventListener('mouseleave', function(e) {
          if (e.clientY < 0) {
            showExitIntentPopup();
          }
        });
        
        // Before unload (closing tab/window)
        window.addEventListener('beforeunload', function(e) {
          if (!formSubmitted && !exitIntentShown) {
            e.preventDefault();
            e.returnValue = '';
            showExitIntentPopup();
            return '';
          }
        });
        
        // Back button handling
        history.pushState(null, null, document.URL);
        window.addEventListener('popstate', function() {
          showExitIntentPopup();
          history.pushState(null, null, document.URL);
        });
      }
      
      // Event listeners
      modalForm.addEventListener('submit', function(e) {
        handleFormSubmit(e, modalForm, modalFormStatus, modalSubmitBtn);
      });
      
      openFormBtn.addEventListener('click', function(e) {
        e.preventDefault();
        openFormModal();
      });
      
      heroCtaBtn.addEventListener('click', function(e) {
        e.preventDefault();
        openFormModal();
      });
      
      floatingCtaBtn.addEventListener('click', function(e) {
        e.preventDefault();
        openFormModal();
      });
      
      openFormBtns.forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          openFormModal();
        });
      });
      
      directWhatsAppBtn.addEventListener('click', function(e) {
        e.preventDefault();
        window.location.href = assignedWhatsAppLink;
      });
      
      // Modal close buttons
      modalCloseBtn.addEventListener('click', closeSuccessModal);
      formModalCloseBtn.addEventListener('click', closeFormModal);
      exitModalCloseBtn.addEventListener('click', closeExitIntentModal);
      
      // Exit intent modal actions
      continueFormBtn.addEventListener('click', function() {
        closeExitIntentModal();
        openFormModal();
      });
      
      whatsappFirstBtn.addEventListener('click', function() {
        closeExitIntentModal();
        window.location.href = assignedWhatsAppLink;
      });
      
      exitWebsiteBtn.addEventListener('click', function() {
        closeExitIntentModal();
        // Allow user to actually leave
        window.removeEventListener('beforeunload', arguments.callee);
        window.history.back();
      });
      
      // Close modals by clicking outside
      successModal.addEventListener('click', function(e) {
        if (e.target === successModal) {
          closeSuccessModal();
        }
      });
      
      formModal.addEventListener('click', function(e) {
        if (e.target === formModal) {
          closeFormModal();
        }
      });
      
      exitIntentModal.addEventListener('click', function(e) {
        if (e.target === exitIntentModal) {
          closeExitIntentModal();
        }
      });
      
      // Success modal OK button
      modalOkBtn.addEventListener('click', function() {
        closeSuccessModal();
        window.location.href = assignedWhatsAppLink;
      });
      
      // Add smooth scrolling
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        if (anchor.getAttribute('href') !== '#' && 
            !anchor.classList.contains('open-form-btn') && 
            anchor.id !== 'openFormBtn') {
          anchor.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
              targetElement.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          });
        }
      });
      
      // Add fade-in animation
      const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.1
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('fade-in');
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);
      
      document.querySelectorAll('.fade-in').forEach(el => {
        observer.observe(el);
      });
      
      // Show floating CTA when scrolling
      window.addEventListener('scroll', function() {
        const floatingCta = document.getElementById('floatingCta');
        if (window.scrollY > 500) {
          floatingCta.style.display = 'block';
        } else {
          floatingCta.style.display = 'none';
        }
      });
      
      // Setup functions
      setupRealTimeValidation();
      setupExitIntentDetection();
    });
  </script>
</body>
</html>
